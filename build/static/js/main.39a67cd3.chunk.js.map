{"version":3,"sources":["SubList.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["flatten2d","arr","result","i","length","concat","SubList","props","theme","useTheme","indent","f","folder","React","useState","Array","folders","fill","opens","setOpens","files","onLoad","fresh","List","component","disablePadding","ListItem","button","style","paddingLeft","spacing","Skeleton","variant","width","height","map","index","onClick","value","handleClick","ListItemIcon","ListItemText","primary","name","Collapse","in","timeout","unmountOnExit","file","slice","drawerWidth","useStyles","makeStyles","createStyles","root","display","drawer","breakpoints","up","flexShrink","appBar","marginLeft","menuButton","marginRight","toolbar","mixins","drawerPaper","content","flexGrow","padding","github","marginBottom","getPath","parent","getFolderData","callback","query","getQuery","request","XMLHttpRequest","url","git","gitlab","id","encodeURI","token","open","onreadystatechange","readyState","status","JSON","parse","responseText","forEach","item","type","push","send","hljs","require","md","html","highlight","str","lang","getLanguage","__","utils","escapeHtml","mk","contentProcess","preUrl","aftUrl","array","mdExpression","start","newContent","exec","lastIndex","replace","imgExpression","window","location","search","vars","substring","split","pair","undefined","GetHostUrl","document","toString","App","classes","mobileOpen","setMobileOpen","handleDrawerToggle","handleFileClick","console","log","setCurrentFile","setTitle","setContent","currentFile","title","freshCount","setFreshCount","githubRepo","setGithubRepo","githubToken","setGithubToken","gitlabHost","setGitlabHost","gitlabId","setGitlabId","className","color","alignItems","Typography","noWrap","Divider","CssBaseline","AppBar","position","Toolbar","IconButton","aria-label","edge","Hidden","smUp","implementation","Drawer","anchor","direction","onClose","paper","ModalProps","keepMounted","xsDown","dangerouslySetInnerHTML","__html","render","href","noValidate","autoComplete","TextField","onChange","e","target","label","Button","fontSize","use","throwOnError","errorColor","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","rel","crossOrigin","defer","src","getElementById"],"mappings":"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","file":"static/js/main.39a67cd3.chunk.js","sourcesContent":["import React from 'react'\r\nimport FolderIcon from '@material-ui/icons/Folder'\r\nimport FileIcon from '@material-ui/icons/InsertDriveFile'\r\nimport MdIcon from '@material-ui/icons/Description';\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport ExpandLess from '@material-ui/icons/ExpandLess'\r\nimport ExpandMore from '@material-ui/icons/ExpandMore'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport { useTheme } from '@material-ui/core/styles'\r\n\r\nimport { Folder, File } from './template'\r\n\r\ninterface Props {\r\n    indent?: number\r\n    folder: Folder\r\n    fresh: () => void\r\n    onClick: (file: File) => void\r\n    onLoad?: (files: File[]) => void\r\n}\r\n\r\nfunction flatten2d(arr: JSX.Element[][]) {\r\n    let result = [] as JSX.Element[]\r\n    for (var i = 0; i < arr.length; i++) {\r\n        result = result.concat(arr[i])\r\n    }\r\n    return result\r\n}\r\n\r\nfunction isMarkdown(name: string) {\r\n    if (name.length >= 3 && name.slice(name.length - 3, name.length) === '.md') {\r\n        return true\r\n    } else {\r\n        return false\r\n    }\r\n}\r\n\r\nexport default function SubList(props: Props) {\r\n    const theme = useTheme()\r\n    const indent = props.indent ? props.indent : 2\r\n    const f = props.folder\r\n\r\n    const [opens, setOpens] = React.useState(\r\n        Array(typeof (f.folders) === 'function' ? 0 : f.folders.length).fill(false) as boolean[]\r\n    )\r\n\r\n    function handleClick(index: number) {\r\n        setOpens(opens.map((value, i) => index === i ? !value : value))\r\n    }\r\n\r\n    if (typeof (f.folders) === 'function') {\r\n        f.folders(f, (folders, files) => {\r\n            f.folders = folders\r\n            f.files = files\r\n            setOpens(Array(f.folders.length).fill(false))\r\n            if (props.onLoad) {\r\n                props.onLoad(files)\r\n            }\r\n            props.fresh()\r\n        })\r\n        return (\r\n            <List component=\"div\" disablePadding>\r\n                <ListItem button style={{ paddingLeft: theme.spacing(indent) }}>\r\n                    <Skeleton variant=\"text\" width={300} height={30} />\r\n                </ListItem>\r\n            </List>\r\n        )\r\n    } else {\r\n        return (\r\n            <List component=\"div\" disablePadding>\r\n                {\r\n                    flatten2d(f.folders.map((folder, index) => [\r\n                        <ListItem button\r\n                            onClick={() => handleClick(index)}\r\n                            key={index}\r\n                            style={{ paddingLeft: theme.spacing(indent) }}>\r\n                            <ListItemIcon>\r\n                                <FolderIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary={folder.name} />\r\n                            {opens[index] ? <ExpandLess /> : <ExpandMore />}\r\n                        </ListItem>,\r\n                        <Collapse key={f.folders.length + index} in={opens[index]} timeout=\"auto\" unmountOnExit>\r\n                            <SubList indent={indent + 4} folder={folder} fresh={props.fresh} onClick={props.onClick} />\r\n                        </Collapse>\r\n                    ]))\r\n                }\r\n                {\r\n                    f.files.map((file, index) => (\r\n                        <ListItem button\r\n                            onClick={() => {props.onClick(file)}}\r\n                            key={2 * f.folders.length + index}\r\n                            style={{ paddingLeft: theme.spacing(indent) }}>\r\n                            <ListItemIcon>\r\n                                {isMarkdown(file.name) ? <MdIcon /> : <FileIcon />}\r\n                            </ListItemIcon>\r\n                            <ListItemText primary={file.name} />\r\n                        </ListItem>\r\n                    ))\r\n                }\r\n            </List>\r\n        )\r\n    }\r\n}","import React from 'react'\nimport { useState } from 'react'\nimport AppBar from '@material-ui/core/AppBar'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Divider from '@material-ui/core/Divider'\nimport Drawer from '@material-ui/core/Drawer'\nimport Hidden from '@material-ui/core/Hidden'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport { makeStyles, useTheme, Theme, createStyles } from '@material-ui/core/styles'\n\nimport './App.css'\n\nimport SubList from './SubList'\n\nimport { Folder, File } from './template'\n\nconst drawerWidth = 300\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            display: 'flex',\n        },\n        drawer: {\n            [theme.breakpoints.up('sm')]: {\n                width: drawerWidth,\n                flexShrink: 0,\n            },\n        },\n        appBar: {\n            [theme.breakpoints.up('sm')]: {\n                width: `calc(100% - ${drawerWidth}px)`,\n                marginLeft: drawerWidth,\n            },\n        },\n        menuButton: {\n            marginRight: theme.spacing(2),\n            [theme.breakpoints.up('sm')]: {\n                display: 'none',\n            },\n        },\n        toolbar: theme.mixins.toolbar,\n        drawerPaper: {\n            width: drawerWidth,\n        },\n        content: {\n            flexGrow: 1,\n            padding: theme.spacing(3)\n        },\n        github: {\n            '& > *': {\n                marginRight: theme.spacing(2),\n                marginBottom: theme.spacing(1),\n            },\n        }\n    }),\n)\n\nfunction isMarkdown(name: string) {\n    if (name.length >= 3 && name.slice(name.length - 3, name.length) === '.md') {\n        return true\n    } else {\n        return false\n    }\n}\n\nfunction getPath(folder: Folder): string {\n    if (folder.parent) {\n        return getPath(folder.parent) + folder.name + '/'\n    } else {\n        return ''\n    }\n}\n\nfunction getFolderData(folder: Folder, callback: (folders: Folder[], files: File[]) => void) {\n    const query = getQuery()\n    const folders = [] as Folder[]\n    const files = [] as File[]\n    const request = new XMLHttpRequest()\n    let url = ''\n    if (query.git === 'gitlab') {\n        url = `https://${query.gitlab}/api/v4/projects/${query.id}/repository/tree?per_page=1000&ref=master&path=${encodeURI(getPath(folder))}`\n    } else {\n        url = `https://api.github.com/repos/${query.github}/contents/${encodeURI(getPath(folder))}${query.token ? `?access_token=${query.token}` : ''}`\n    }\n    request.open('GET', url)\n    request.onreadystatechange = function () {\n        if (request.readyState === 4 && request.status === 200) {\n            const tree = JSON.parse(request.responseText)\n            tree.forEach((item: any) => {\n                if (query.git === 'gitlab' ? item.type === 'tree' : item.type === 'dir') {\n                    folders.push({\n                        name: item.name,\n                        parent: folder,\n                        folders: getFolderData,\n                        files: []\n                    })\n                } else if (query.git === 'gitlab' ? item.type === 'blob' : item.type === 'file') {\n                    files.push({\n                        name: item.name,\n                        parent: folder\n                    })\n                }\n            })\n            callback(folders, files)\n        }\n    }\n    request.send(null)\n}\n\nconst folder = {\n    name: 'root',\n    parent: null,\n    folders: getFolderData,\n    files: []\n} as Folder\n\nconst hljs = require('highlight.js')\nconst md = require('markdown-it')({\n    html: true,\n    highlight: function (str: string, lang: string) {\n        if (lang && hljs.getLanguage(lang)) {\n            try {\n                return '<pre class=\"hljs\"><code>' +\n                    hljs.highlight(lang, str, true).value +\n                    '</code></pre>'\n            } catch (__) { }\n        }\n        return '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + '</code></pre>'\n    }\n})\nconst mk = require('@iktakahiro/markdown-it-katex')\nmd.use(mk, {\n    throwOnError: false,\n    errorColor: \"#cc0000\",\n})\n\n\nfunction contentProcess(content: string, file: File | null): string {\n    if (file) {\n        const query = getQuery()\n        let preUrl = ''\n        let aftUrl = ''\n        if (query.git === 'gitlab') {\n            preUrl = `https://${query.gitlab}/api/v4/projects/${query.id}/repository/files/`\n            aftUrl = '/raw?ref=master'\n        } else {\n            preUrl = `https://raw.githubusercontent.com/${query.github}/master/`\n            aftUrl = ''\n        }\n\n        // Markdown Image\n        const mdExpression = /!\\[([\\u4e00-\\u9fa5a-z0-9-_/. ]*)\\]\\((\\.\\/)?([\\u4e00-\\u9fa5a-z0-9-_/. ]*)\\)/g\n        let start = 0\n        let newContent = ''\n        let array\n        while ((array = mdExpression.exec(content)) !== null) {\n            newContent += content.slice(start, mdExpression.lastIndex - array[0].length)\n            newContent += `![${array[1]}](${preUrl}${query.git === 'gitlab' ?\n                encodeURI(getPath(file.parent) + array[3]).replace(/\\//g, '%2F') :\n                encodeURI(getPath(file.parent) + array[3])\n                }${aftUrl})`\n            start = mdExpression.lastIndex\n        }\n        newContent += content.slice(start, content.length)\n        content = newContent\n\n        // Html Image\n        const imgExpression = /<img +src=\"([\\u4e00-\\u9fa5a-z0-9-_/. ]*)\"([^>]*)>/g\n        start = 0\n        newContent = ''\n        while ((array = imgExpression.exec(content)) !== null) {\n            newContent += content.slice(start, imgExpression.lastIndex - array[0].length)\n            newContent += `<img src=\"${preUrl}${query.git === 'gitlab' ?\n                encodeURI(getPath(file.parent) + array[1]).replace(/\\//g, '%2F') :\n                encodeURI(getPath(file.parent) + array[1])\n                }${aftUrl}\"${array[2]}>`\n            start = imgExpression.lastIndex\n        }\n        newContent += content.slice(start, content.length)\n        content = newContent\n    }\n    return content\n}\n\ninterface Query {\n    [key: string]: string\n}\n\nfunction getQuery(): Query {\n    const result = {} as Query\n    if (window.location.search.length > 1) {\n        const query = window.location.search.substring(1)\n        const vars = query.split(\"&\")\n        for (var i = 0; i < vars.length; i++) {\n            var pair = vars[i].split(\"=\")\n            result[pair[0]] = pair[1]\n        }\n    }\n    if (result.git !== 'github' && result.git !== 'gitlab' && result.git !== undefined) {\n        result.git = 'github'\n    }\n    if (result.git === 'gitlab') {\n        if (!result.gitlab) {\n            result.gitlab = 'git.nju.edu.cn'\n            result.id = '2047'\n        }\n    } else {\n        if (!result.github) {\n            result.github = 'OrangeX4/NJUAI-Notes'\n        }\n    }\n    return result\n}\n\nfunction GetHostUrl() {\n    return document.location.toString().split(\"?\")[0]\n}\n\n\nexport default function App() {\n    const classes = useStyles()\n    const theme = useTheme()\n    const [mobileOpen, setMobileOpen] = React.useState(false)\n\n    function handleDrawerToggle() {\n        setMobileOpen(!mobileOpen)\n    }\n\n    function handleFileClick(file: File) {\n        const query = getQuery()\n        let preUrl = ''\n        let aftUrl = ''\n        if (query.git === 'gitlab') {\n            preUrl = `https://${query.gitlab}/api/v4/projects/${query.id}/repository/files/`\n            aftUrl = '/raw?ref=master'\n        } else {\n            preUrl = `https://raw.githubusercontent.com/${query.github}/master/`\n            aftUrl = ''\n        }\n        const url = `${preUrl}${query.git === 'gitlab' ?\n            encodeURI(getPath(file.parent) + file.name).replace(/\\//g, '%2F') :\n            encodeURI(getPath(file.parent) + file.name)\n            }${aftUrl}`\n        if (!isMarkdown(file.name)) {\n            console.log(window.location.search)\n            window.open(url, '_blank')\n            return\n        }\n        const request = new XMLHttpRequest()\n        request.open('GET', url)\n        request.onreadystatechange = function () {\n            if (request.readyState === 4 && request.status === 200) {\n                setCurrentFile(file)\n                setTitle(file.name)\n                setContent(request.responseText)\n            }\n        }\n        request.send(null)\n    }\n\n    // Load README.md\n    function handleLoad(files: File[]) {\n        files.forEach((file) => {\n            if (file.name === 'README.md') {\n                handleFileClick(file)\n            }\n        })\n    }\n\n    const [currentFile, setCurrentFile] = useState(null as File | null)\n    const [title, setTitle] = useState('GitNotes | OrangeX4\\'s Notes')\n    const [content, setContent] = useState('')\n\n    const [freshCount, setFreshCount] = useState(0)\n    const fresh = () => setFreshCount(freshCount + 1)\n\n\n    const [githubRepo, setGithubRepo] = useState('OrangeX4/NJUAI-Notes')\n    const [githubToken, setGithubToken] = useState('')\n    const [gitlabHost, setGitlabHost] = useState('git.nju.edu.cn')\n    const [gitlabId, setGitlabId] = useState('2047')\n\n\n    const drawer = (\n        <div>\n            <div className={classes.toolbar} style={{ color: '#303030', display: 'flex', alignItems: 'center', paddingLeft: 16 }}>\n                <MenuIcon style={{ marginRight: 30 }} />\n                <Typography variant=\"h6\" noWrap>\n                    目录\n                </Typography>\n            </div>\n            <Divider />\n            {getQuery().git ? (\n                <SubList folder={folder} fresh={fresh} onClick={handleFileClick} onLoad={handleLoad} />\n            ) : (\n                null\n            )}\n        </div>\n    )\n\n    return (\n        <div className={classes.root}>\n            <CssBaseline />\n            <AppBar position=\"fixed\" className={classes.appBar} color='default'>\n                <Toolbar>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        edge=\"start\"\n                        onClick={handleDrawerToggle}\n                        className={classes.menuButton}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" noWrap>\n                        {title}\n                    </Typography>\n                </Toolbar>\n            </AppBar>\n            <nav className={classes.drawer} aria-label=\"mailbox folders\">\n                {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n                <Hidden smUp implementation=\"css\">\n                    <Drawer\n                        variant=\"temporary\"\n                        anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n                        open={mobileOpen}\n                        onClose={handleDrawerToggle}\n                        classes={{\n                            paper: classes.drawerPaper,\n                        }}\n                        ModalProps={{\n                            keepMounted: true, // Better open performance on mobile.\n                        }}\n                    >\n                        {drawer}\n                    </Drawer>\n                </Hidden>\n                <Hidden xsDown implementation=\"css\">\n                    <Drawer\n                        classes={{\n                            paper: classes.drawerPaper,\n                        }}\n                        variant=\"permanent\"\n                        open\n                    >\n                        {drawer}\n                    </Drawer>\n                </Hidden>\n            </nav>\n            {/* <main className={classes.content} style={{width: '100%'}}> */}\n            <main className={classes.content}>\n                <div className={classes.toolbar} />\n                {getQuery().git ? (\n                    <div dangerouslySetInnerHTML={{ __html: md.render(contentProcess(content, currentFile)) }} />\n                ) : (\n                    <div>\n                        <h1>这是什么?</h1>\n                        <p>这是一个由 <b>OrangeX4</b> 开发的<b>笔记浏览应用</b>, 用于浏览以 <b>Markdown</b> 书写的, 存放在 <b>GitLab 或 GitHub</b> 上的笔记.</p>\n                        <p>优点: <b>数学公式支持和移动端适配.</b></p>\n                        <a href=\"https://github.com/OrangeX4/GitNotes\">GitHub 地址</a>\n\n                        <h1>OrangeX4 的笔记</h1>\n                        <h2><a href=\"./?git=gitlab\">OrangeX4's Notes</a></h2>\n                        <h1>其他笔记</h1>\n                        <h2><a href=\"./?git=github&github=typoverflow/note\">Typoverflow's Notes</a></h2>\n                        <h2><a href=\"./?git=github&github=fengdu78/Coursera-ML-AndrewNg-Notes\">Coursera-ML-AndrewNg-Notes</a></h2>\n\n                        <h1>GitHub</h1>\n                        <form className={classes.github} noValidate autoComplete=\"off\">\n                            <TextField id=\"standard-basic\" value={githubRepo} onChange={(e) => setGithubRepo(e.target.value)} label=\"Repo\" />\n                            <TextField id=\"standard-basic\" value={githubToken} onChange={(e) => setGithubToken(e.target.value)} label=\"Token\" />\n                            <Button variant=\"outlined\"\n                                color=\"primary\"\n                                onClick={() => { window.location.href = `${GetHostUrl()}?git=github&github=${githubRepo}${githubToken === '' ? '' : '&token=' + githubToken}` }}\n                                style={{ height: 50, width: 100, fontSize: 16 }}>浏览</Button>\n                        </form>\n                        <p>GitHub 对于 API 访问有一定的限制, 超过次数便需要 Token 才能继续浏览.</p>\n                        <p>详见 <a href=\"https://docs.github.com/cn/github/authenticating-to-github/creating-a-personal-access-token\">创建 Token</a>.</p>\n\n                        <h1>GitLab</h1>\n                        <form className={classes.github} noValidate autoComplete=\"off\">\n                            <TextField id=\"standard-basic\" value={gitlabHost} onChange={(e) => setGitlabHost(e.target.value)} label=\"Host\" />\n                            <TextField id=\"standard-basic\" value={gitlabId} onChange={(e) => setGitlabId(e.target.value)} label=\"Id\" />\n                            <Button variant=\"outlined\"\n                                color=\"primary\"\n                                onClick={() => { window.location.href = `${GetHostUrl()}?git=gitlab&gitlab=${gitlabHost}&id=${gitlabId}` }}\n                                style={{ height: 50, width: 100, fontSize: 16 }}>浏览</Button>\n                        </form>\n                        <p>Host 是 GitLab 所在的域名, 如 \"gitlab.com\" 和 \"git.nju.edu.cn\".</p>\n                        <p>Id 是你要浏览的 GitLab 项目的 Id, 可以在项目页面上找到.</p>\n                    </div>\n                )}\n            </main>\n        </div>\n    )\n}","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App />\r\n        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css\"></link>\r\n        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/atom-one-dark.min.css\" />\r\n        <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.css\" crossOrigin=\"anonymous\"></link>\r\n        <script defer src=\"https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.js\" crossOrigin=\"anonymous\"></script>\r\n        <script defer src=\"https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.min.js\" crossOrigin=\"anonymous\"></script>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}